"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react"),n=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,r=require("formik"),a=require("yup");function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(a[n]=t[n]);return a}require("animate.css");var u=["children","animate"],c=["validation"],f=function(t){return n.createElement("div",{className:t.transitions},t.children)};exports.default=function(t){var s,l=t.children,p=t.animate,d=void 0===p||p,m=o(t,u),v=function(){return n.Children.toArray(l)},_=v().length,h=e.useState(0),y=h[0],b=h[1],O=e.useState({}),g=O[0],j=O[1],S=Array.isArray(l)?l[y]:l,A=Array.isArray(l)?y:0,k=a.object().shape((null==(s=S.props)?void 0:s.validation)||{}),q=function(t){if(t!==y&&!x(t)){var e={};y<t?(e[y]="animate__animated animate__fadeOutLeft",e[t]="animate__animated animate__fadeInRight"):(e[y]="animate__animated animate__fadeOutRight",e[t]="animate__animated animate__fadeInLeft"),j(e),setTimeout((function(){b(t)}),200)}},x=function(t){return t<0||t>=_},E=function(t){return 0===Object.keys(t).length},F=o(S.props,c),I=i({},S,{props:F});return n.createElement(r.Formik,Object.assign({},m,{validationSchema:k}),(function(t){var e=t.validateForm;return n.createElement(f,{transitions:Boolean(d)?g[A]:""},function(t){var e=t.type;return"function"==typeof e||"object"==typeof e}(S)?n.cloneElement(I,{currentStep:y+1,totalSteps:_,nextStep:function(){e().then((function(t){E(t)&&q(y+1)}))},previousStep:function(){return q(y-1)},firstStep:function(){return q(0)},goToStep:function(t){return q(t-1)},lastStep:function(){v().splice(y+1,_).some((function(t){var e;return!(null==(e=t.props)||!e.validation)}))||e().then((function(t){E(t)&&q(_-1)}))}}):S)}))};
//# sourceMappingURL=react-formik-stepper.cjs.production.min.js.map
